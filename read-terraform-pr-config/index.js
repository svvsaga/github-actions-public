var xo=Object.create;var le=Object.defineProperty,Ao=Object.defineProperties,To=Object.getOwnPropertyDescriptor,Oo=Object.getOwnPropertyDescriptors,So=Object.getOwnPropertyNames,or=Object.getOwnPropertySymbols,Po=Object.getPrototypeOf,ar=Object.prototype.hasOwnProperty,Eo=Object.prototype.propertyIsEnumerable;var ur=(e,r,t)=>r in e?le(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,cr=(e,r)=>{for(var t in r||(r={}))ar.call(r,t)&&ur(e,t,r[t]);if(or)for(var t of or(r))Eo.call(r,t)&&ur(e,t,r[t]);return e},lr=(e,r)=>Ao(e,Oo(r)),Ro=e=>le(e,"__esModule",{value:!0});var o=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Co=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of So(r))!ar.call(e,i)&&(t||i!=="default")&&le(e,i,{get:()=>r[i],enumerable:!(n=To(r,i))||n.enumerable});return e},fe=(e,r)=>Co(Ro(le(e!=null?xo(Po(e)):{},"default",!r&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var pe=o(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.toCommandProperties=U.toCommandValue=void 0;function Io(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}U.toCommandValue=Io;function Mo(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}U.toCommandProperties=Mo});var gr=o(q=>{"use strict";var jo=q&&q.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Do=q&&q.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),No=q&&q.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&jo(r,e,t);return Do(r,e),r};Object.defineProperty(q,"__esModule",{value:!0});q.issue=q.issueCommand=void 0;var Uo=No(require("os")),fr=pe();function pr(e,r,t){let n=new hr(e,r,t);process.stdout.write(n.toString()+Uo.EOL)}q.issueCommand=pr;function Lo(e,r=""){pr(e,{},r)}q.issue=Lo;var dr="::",hr=class{constructor(r,t,n){r||(r="missing.command"),this.command=r,this.properties=t,this.message=n}toString(){let r=dr+this.command;if(this.properties&&Object.keys(this.properties).length>0){r+=" ";let t=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(t?t=!1:r+=",",r+=`${n}=${Go(i)}`)}}return r+=`${dr}${Bo(this.message)}`,r}};function Bo(e){return fr.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Go(e){return fr.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var _r=o(T=>{"use strict";var Fo=T&&T.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),ko=T&&T.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),vr=T&&T.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&Fo(r,e,t);return ko(r,e),r};Object.defineProperty(T,"__esModule",{value:!0});T.issueCommand=void 0;var yr=vr(require("fs")),$o=vr(require("os")),Ko=pe();function zo(e,r){let t=process.env[`GITHUB_${e}`];if(!t)throw new Error(`Unable to find environment variable for file command ${e}`);if(!yr.existsSync(t))throw new Error(`Missing file at path: ${t}`);yr.appendFileSync(t,`${Ko.toCommandValue(r)}${$o.EOL}`,{encoding:"utf8"})}T.issueCommand=zo});var qr=o(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});function Jo(e){let r=e.protocol==="https:",t;if(mr(e))return t;let n;return r?n=process.env.https_proxy||process.env.HTTPS_PROXY:n=process.env.http_proxy||process.env.HTTP_PROXY,n&&(t=new URL(n)),t}de.getProxyUrl=Jo;function mr(e){if(!e.hostname)return!1;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let t;e.port?t=Number(e.port):e.protocol==="http:"?t=80:e.protocol==="https:"&&(t=443);let n=[e.hostname.toUpperCase()];typeof t=="number"&&n.push(`${n[0]}:${t}`);for(let i of r.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(n.some(s=>s===i))return!0;return!1}de.checkBypass=mr});var Ar=o(L=>{"use strict";var Xh=require("net"),Ho=require("tls"),Ee=require("http"),br=require("https"),Vo=require("events"),Yh=require("assert"),Xo=require("util");L.httpOverHttp=Yo;L.httpsOverHttp=Wo;L.httpOverHttps=Qo;L.httpsOverHttps=Zo;function Yo(e){var r=new S(e);return r.request=Ee.request,r}function Wo(e){var r=new S(e);return r.request=Ee.request,r.createSocket=wr,r.defaultPort=443,r}function Qo(e){var r=new S(e);return r.request=br.request,r}function Zo(e){var r=new S(e);return r.request=br.request,r.createSocket=wr,r.defaultPort=443,r}function S(e){var r=this;r.options=e||{},r.proxyOptions=r.options.proxy||{},r.maxSockets=r.options.maxSockets||Ee.Agent.defaultMaxSockets,r.requests=[],r.sockets=[],r.on("free",function(n,i,s,a){for(var u=xr(i,s,a),l=0,c=r.requests.length;l<c;++l){var p=r.requests[l];if(p.host===u.host&&p.port===u.port){r.requests.splice(l,1),p.request.onSocket(n);return}}n.destroy(),r.removeSocket(n)})}Xo.inherits(S,Vo.EventEmitter);S.prototype.addRequest=function(r,t,n,i){var s=this,a=Re({request:r},s.options,xr(t,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(a);return}s.createSocket(a,function(u){u.on("free",l),u.on("close",c),u.on("agentRemove",c),r.onSocket(u);function l(){s.emit("free",u,a)}function c(p){s.removeSocket(u),u.removeListener("free",l),u.removeListener("close",c),u.removeListener("agentRemove",c)}})};S.prototype.createSocket=function(r,t){var n=this,i={};n.sockets.push(i);var s=Re({},n.proxyOptions,{method:"CONNECT",path:r.host+":"+r.port,agent:!1,headers:{host:r.host+":"+r.port}});r.localAddress&&(s.localAddress=r.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),R("making CONNECT request");var a=n.request(s);a.useChunkedEncodingByDefault=!1,a.once("response",u),a.once("upgrade",l),a.once("connect",c),a.once("error",p),a.end();function u(d){d.upgrade=!0}function l(d,h,y){process.nextTick(function(){c(d,h,y)})}function c(d,h,y){if(a.removeAllListeners(),h.removeAllListeners(),d.statusCode!==200){R("tunneling socket could not be established, statusCode=%d",d.statusCode),h.destroy();var v=new Error("tunneling socket could not be established, statusCode="+d.statusCode);v.code="ECONNRESET",r.request.emit("error",v),n.removeSocket(i);return}if(y.length>0){R("got illegal response body from proxy"),h.destroy();var v=new Error("got illegal response body from proxy");v.code="ECONNRESET",r.request.emit("error",v),n.removeSocket(i);return}return R("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=h,t(h)}function p(d){a.removeAllListeners(),R(`tunneling socket could not be established, cause=%s
`,d.message,d.stack);var h=new Error("tunneling socket could not be established, cause="+d.message);h.code="ECONNRESET",r.request.emit("error",h),n.removeSocket(i)}};S.prototype.removeSocket=function(r){var t=this.sockets.indexOf(r);if(t!==-1){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function wr(e,r){var t=this;S.prototype.createSocket.call(t,e,function(n){var i=e.request.getHeader("host"),s=Re({},t.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),a=Ho.connect(0,s);t.sockets[t.sockets.indexOf(n)]=a,r(a)})}function xr(e,r,t){return typeof e=="string"?{host:e,port:r,localAddress:t}:e}function Re(e){for(var r=1,t=arguments.length;r<t;++r){var n=arguments[r];if(typeof n=="object")for(var i=Object.keys(n),s=0,a=i.length;s<a;++s){var u=i[s];n[u]!==void 0&&(e[u]=n[u])}}return e}var R;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?R=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:R=function(){};L.debug=R});var Or=o((Qh,Tr)=>{Tr.exports=Ar()});var Pr=o(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var he=require("http"),Ce=require("https"),Sr=qr(),B,A;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(A=m.HttpCodes||(m.HttpCodes={}));var _;(function(e){e.Accept="accept",e.ContentType="content-type"})(_=m.Headers||(m.Headers={}));var C;(function(e){e.ApplicationJson="application/json"})(C=m.MediaTypes||(m.MediaTypes={}));function ea(e){let r=Sr.getProxyUrl(new URL(e));return r?r.href:""}m.getProxyUrl=ea;var ra=[A.MovedPermanently,A.ResourceMoved,A.SeeOther,A.TemporaryRedirect,A.PermanentRedirect],ta=[A.BadGateway,A.ServiceUnavailable,A.GatewayTimeout],na=["OPTIONS","GET","DELETE","HEAD"],ia=10,sa=5,Y=class extends Error{constructor(r,t){super(r);this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,Y.prototype)}};m.HttpClientError=Y;var Ie=class{constructor(r){this.message=r}readBody(){return new Promise(async(r,t)=>{let n=Buffer.alloc(0);this.message.on("data",i=>{n=Buffer.concat([n,i])}),this.message.on("end",()=>{r(n.toString())})})}};m.HttpClientResponse=Ie;function oa(e){return new URL(e).protocol==="https:"}m.isHttps=oa;var ge=class{constructor(r,t,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=r,this.handlers=t||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(r,t){return this.request("OPTIONS",r,null,t||{})}get(r,t){return this.request("GET",r,null,t||{})}del(r,t){return this.request("DELETE",r,null,t||{})}post(r,t,n){return this.request("POST",r,t,n||{})}patch(r,t,n){return this.request("PATCH",r,t,n||{})}put(r,t,n){return this.request("PUT",r,t,n||{})}head(r,t){return this.request("HEAD",r,null,t||{})}sendStream(r,t,n,i){return this.request(r,t,n,i)}async getJson(r,t={}){t[_.Accept]=this._getExistingOrDefaultHeader(t,_.Accept,C.ApplicationJson);let n=await this.get(r,t);return this._processResponse(n,this.requestOptions)}async postJson(r,t,n={}){let i=JSON.stringify(t,null,2);n[_.Accept]=this._getExistingOrDefaultHeader(n,_.Accept,C.ApplicationJson),n[_.ContentType]=this._getExistingOrDefaultHeader(n,_.ContentType,C.ApplicationJson);let s=await this.post(r,i,n);return this._processResponse(s,this.requestOptions)}async putJson(r,t,n={}){let i=JSON.stringify(t,null,2);n[_.Accept]=this._getExistingOrDefaultHeader(n,_.Accept,C.ApplicationJson),n[_.ContentType]=this._getExistingOrDefaultHeader(n,_.ContentType,C.ApplicationJson);let s=await this.put(r,i,n);return this._processResponse(s,this.requestOptions)}async patchJson(r,t,n={}){let i=JSON.stringify(t,null,2);n[_.Accept]=this._getExistingOrDefaultHeader(n,_.Accept,C.ApplicationJson),n[_.ContentType]=this._getExistingOrDefaultHeader(n,_.ContentType,C.ApplicationJson);let s=await this.patch(r,i,n);return this._processResponse(s,this.requestOptions)}async request(r,t,n,i){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(t),a=this._prepareRequest(r,s,i),u=this._allowRetries&&na.indexOf(r)!=-1?this._maxRetries+1:1,l=0,c;for(;l<u;){if(c=await this.requestRaw(a,n),c&&c.message&&c.message.statusCode===A.Unauthorized){let d;for(let h=0;h<this.handlers.length;h++)if(this.handlers[h].canHandleAuthentication(c)){d=this.handlers[h];break}return d?d.handleAuthentication(this,a,n):c}let p=this._maxRedirects;for(;ra.indexOf(c.message.statusCode)!=-1&&this._allowRedirects&&p>0;){let d=c.message.headers.location;if(!d)break;let h=new URL(d);if(s.protocol=="https:"&&s.protocol!=h.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await c.readBody(),h.hostname!==s.hostname)for(let y in i)y.toLowerCase()==="authorization"&&delete i[y];a=this._prepareRequest(r,h,i),c=await this.requestRaw(a,n),p--}if(ta.indexOf(c.message.statusCode)==-1)return c;l+=1,l<u&&(await c.readBody(),await this._performExponentialBackoff(l))}return c}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(r,t){return new Promise((n,i)=>{let s=function(a,u){a&&i(a),n(u)};this.requestRawWithCallback(r,t,s)})}requestRawWithCallback(r,t,n){let i;typeof t=="string"&&(r.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let s=!1,a=(l,c)=>{s||(s=!0,n(l,c))},u=r.httpModule.request(r.options,l=>{let c=new Ie(l);a(null,c)});u.on("socket",l=>{i=l}),u.setTimeout(this._socketTimeout||3*6e4,()=>{i&&i.end(),a(new Error("Request timeout: "+r.options.path),null)}),u.on("error",function(l){a(l,null)}),t&&typeof t=="string"&&u.write(t,"utf8"),t&&typeof t!="string"?(t.on("close",function(){u.end()}),t.pipe(u)):u.end()}getAgent(r){let t=new URL(r);return this._getAgent(t)}_prepareRequest(r,t,n){let i={};i.parsedUrl=t;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?Ce:he;let a=s?443:80;return i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):a,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=r,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers&&this.handlers.forEach(u=>{u.prepareRequest(i.options)}),i}_mergeHeaders(r){let t=n=>Object.keys(n).reduce((i,s)=>(i[s.toLowerCase()]=n[s],i),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},t(this.requestOptions.headers),t(r)):t(r||{})}_getExistingOrDefaultHeader(r,t,n){let i=a=>Object.keys(a).reduce((u,l)=>(u[l.toLowerCase()]=a[l],u),{}),s;return this.requestOptions&&this.requestOptions.headers&&(s=i(this.requestOptions.headers)[t]),r[t]||s||n}_getAgent(r){let t,n=Sr.getProxyUrl(r),i=n&&n.hostname;if(this._keepAlive&&i&&(t=this._proxyAgent),this._keepAlive&&!i&&(t=this._agent),t)return t;let s=r.protocol==="https:",a=100;if(this.requestOptions&&(a=this.requestOptions.maxSockets||he.globalAgent.maxSockets),i){B||(B=Or());let u={maxSockets:a,keepAlive:this._keepAlive,proxy:lr(cr({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},l,c=n.protocol==="https:";s?l=c?B.httpsOverHttps:B.httpsOverHttp:l=c?B.httpOverHttps:B.httpOverHttp,t=l(u),this._proxyAgent=t}if(this._keepAlive&&!t){let u={keepAlive:this._keepAlive,maxSockets:a};t=s?new Ce.Agent(u):new he.Agent(u),this._agent=t}return t||(t=s?Ce.globalAgent:he.globalAgent),s&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_performExponentialBackoff(r){r=Math.min(ia,r);let t=sa*Math.pow(2,r);return new Promise(n=>setTimeout(()=>n(),t))}static dateTimeDeserializer(r,t){if(typeof t=="string"){let n=new Date(t);if(!isNaN(n.valueOf()))return n}return t}async _processResponse(r,t){return new Promise(async(n,i)=>{let s=r.message.statusCode,a={statusCode:s,result:null,headers:{}};s==A.NotFound&&n(a);let u,l;try{l=await r.readBody(),l&&l.length>0&&(t&&t.deserializeDates?u=JSON.parse(l,ge.dateTimeDeserializer):u=JSON.parse(l),a.result=u),a.headers=r.message.headers}catch{}if(s>299){let c;u&&u.message?c=u.message:l&&l.length>0?c=l:c="Failed request: ("+s+")";let p=new Y(c,s);p.result=a.result,i(p)}else n(a)})}};m.HttpClient=ge});var Ir=o(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});var Er=class{constructor(r,t){this.username=r,this.password=t}prepareRequest(r){r.headers.Authorization="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(r){return!1}handleAuthentication(r,t,n){return null}};W.BasicCredentialHandler=Er;var Rr=class{constructor(r){this.token=r}prepareRequest(r){r.headers.Authorization="Bearer "+this.token}canHandleAuthentication(r){return!1}handleAuthentication(r,t,n){return null}};W.BearerCredentialHandler=Rr;var Cr=class{constructor(r){this.token=r}prepareRequest(r){r.headers.Authorization="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(r){return!1}handleAuthentication(r,t,n){return null}};W.PersonalAccessTokenCredentialHandler=Cr});var Dr=o(G=>{"use strict";var Mr=G&&G.__awaiter||function(e,r,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{c(n.next(p))}catch(d){a(d)}}function l(p){try{c(n.throw(p))}catch(d){a(d)}}function c(p){p.done?s(p.value):i(p.value).then(u,l)}c((n=n.apply(e,r||[])).next())})};Object.defineProperty(G,"__esModule",{value:!0});G.OidcClient=void 0;var aa=Pr(),ua=Ir(),jr=ve(),D=class{static createHttpClient(r=!0,t=10){let n={allowRetries:r,maxRetries:t};return new aa.HttpClient("actions/oidc-client",[new ua.BearerCredentialHandler(D.getRequestToken())],n)}static getRequestToken(){let r=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!r)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return r}static getIDTokenUrl(){let r=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!r)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return r}static getCall(r){var t;return Mr(this,void 0,void 0,function*(){let s=(t=(yield D.createHttpClient().getJson(r).catch(a=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${a.statusCode}
 
        Error Message: ${a.result.message}`)})).result)===null||t===void 0?void 0:t.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(r){return Mr(this,void 0,void 0,function*(){try{let t=D.getIDTokenUrl();if(r){let i=encodeURIComponent(r);t=`${t}&audience=${i}`}jr.debug(`ID token url is ${t}`);let n=yield D.getCall(t);return jr.setSecret(n),n}catch(t){throw new Error(`Error message: ${t.message}`)}})}};G.OidcClient=D});var ve=o(f=>{"use strict";var ca=f&&f.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),la=f&&f.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Nr=f&&f.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&ca(r,e,t);return la(r,e),r},Ur=f&&f.__awaiter||function(e,r,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(p){try{c(n.next(p))}catch(d){a(d)}}function l(p){try{c(n.throw(p))}catch(d){a(d)}}function c(p){p.done?s(p.value):i(p.value).then(u,l)}c((n=n.apply(e,r||[])).next())})};Object.defineProperty(f,"__esModule",{value:!0});f.getIDToken=f.getState=f.saveState=f.group=f.endGroup=f.startGroup=f.info=f.notice=f.warning=f.error=f.debug=f.isDebug=f.setFailed=f.setCommandEcho=f.setOutput=f.getBooleanInput=f.getMultilineInput=f.getInput=f.addPath=f.setSecret=f.exportVariable=f.ExitCode=void 0;var b=gr(),Lr=_r(),ye=pe(),_e=Nr(require("os")),fa=Nr(require("path")),pa=Dr(),Br;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Br=f.ExitCode||(f.ExitCode={}));function da(e,r){let t=ye.toCommandValue(r);if(process.env[e]=t,process.env.GITHUB_ENV||""){let i="_GitHubActionsFileCommandDelimeter_",s=`${e}<<${i}${_e.EOL}${t}${_e.EOL}${i}`;Lr.issueCommand("ENV",s)}else b.issueCommand("set-env",{name:e},t)}f.exportVariable=da;function ha(e){b.issueCommand("add-mask",{},e)}f.setSecret=ha;function ga(e){process.env.GITHUB_PATH||""?Lr.issueCommand("PATH",e):b.issueCommand("add-path",{},e),process.env.PATH=`${e}${fa.delimiter}${process.env.PATH}`}f.addPath=ga;function Me(e,r){let t=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(r&&r.required&&!t)throw new Error(`Input required and not supplied: ${e}`);return r&&r.trimWhitespace===!1?t:t.trim()}f.getInput=Me;function va(e,r){return Me(e,r).split(`
`).filter(n=>n!=="")}f.getMultilineInput=va;function ya(e,r){let t=["true","True","TRUE"],n=["false","False","FALSE"],i=Me(e,r);if(t.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}f.getBooleanInput=ya;function _a(e,r){process.stdout.write(_e.EOL),b.issueCommand("set-output",{name:e},r)}f.setOutput=_a;function ma(e){b.issue("echo",e?"on":"off")}f.setCommandEcho=ma;function qa(e){process.exitCode=Br.Failure,Gr(e)}f.setFailed=qa;function ba(){return process.env.RUNNER_DEBUG==="1"}f.isDebug=ba;function wa(e){b.issueCommand("debug",{},e)}f.debug=wa;function Gr(e,r={}){b.issueCommand("error",ye.toCommandProperties(r),e instanceof Error?e.toString():e)}f.error=Gr;function xa(e,r={}){b.issueCommand("warning",ye.toCommandProperties(r),e instanceof Error?e.toString():e)}f.warning=xa;function Aa(e,r={}){b.issueCommand("notice",ye.toCommandProperties(r),e instanceof Error?e.toString():e)}f.notice=Aa;function Ta(e){process.stdout.write(e+_e.EOL)}f.info=Ta;function Fr(e){b.issue("group",e)}f.startGroup=Fr;function kr(){b.issue("endgroup")}f.endGroup=kr;function Oa(e,r){return Ur(this,void 0,void 0,function*(){Fr(e);let t;try{t=yield r()}finally{kr()}return t})}f.group=Oa;function Sa(e,r){b.issueCommand("save-state",{name:e},r)}f.saveState=Sa;function Pa(e){return process.env[`STATE_${e}`]||""}f.getState=Pa;function Ea(e){return Ur(this,void 0,void 0,function*(){return yield pa.OidcClient.getIDToken(e)})}f.getIDToken=Ea});var je=o((ng,$r)=>{var Ra=typeof global=="object"&&global&&global.Object===Object&&global;$r.exports=Ra});var O=o((ig,Kr)=>{var Ca=je(),Ia=typeof self=="object"&&self&&self.Object===Object&&self,Ma=Ca||Ia||Function("return this")();Kr.exports=Ma});var Q=o((sg,zr)=>{var ja=O(),Da=ja.Symbol;zr.exports=Da});var Xr=o((og,Vr)=>{var Jr=Q(),Hr=Object.prototype,Na=Hr.hasOwnProperty,Ua=Hr.toString,Z=Jr?Jr.toStringTag:void 0;function La(e){var r=Na.call(e,Z),t=e[Z];try{e[Z]=void 0;var n=!0}catch{}var i=Ua.call(e);return n&&(r?e[Z]=t:delete e[Z]),i}Vr.exports=La});var Wr=o((ag,Yr)=>{var Ba=Object.prototype,Ga=Ba.toString;function Fa(e){return Ga.call(e)}Yr.exports=Fa});var F=o((ug,et)=>{var Qr=Q(),ka=Xr(),$a=Wr(),Ka="[object Null]",za="[object Undefined]",Zr=Qr?Qr.toStringTag:void 0;function Ja(e){return e==null?e===void 0?za:Ka:Zr&&Zr in Object(e)?ka(e):$a(e)}et.exports=Ja});var me=o((cg,rt)=>{function Ha(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}rt.exports=Ha});var De=o((lg,tt)=>{var Va=F(),Xa=me(),Ya="[object AsyncFunction]",Wa="[object Function]",Qa="[object GeneratorFunction]",Za="[object Proxy]";function eu(e){if(!Xa(e))return!1;var r=Va(e);return r==Wa||r==Qa||r==Ya||r==Za}tt.exports=eu});var it=o((fg,nt)=>{var ru=O(),tu=ru["__core-js_shared__"];nt.exports=tu});var at=o((pg,ot)=>{var Ne=it(),st=function(){var e=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nu(e){return!!st&&st in e}ot.exports=nu});var Ue=o((dg,ut)=>{var iu=Function.prototype,su=iu.toString;function ou(e){if(e!=null){try{return su.call(e)}catch{}try{return e+""}catch{}}return""}ut.exports=ou});var lt=o((hg,ct)=>{var au=De(),uu=at(),cu=me(),lu=Ue(),fu=/[\\^$.*+?()[\]{}|]/g,pu=/^\[object .+?Constructor\]$/,du=Function.prototype,hu=Object.prototype,gu=du.toString,vu=hu.hasOwnProperty,yu=RegExp("^"+gu.call(vu).replace(fu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _u(e){if(!cu(e)||uu(e))return!1;var r=au(e)?yu:pu;return r.test(lu(e))}ct.exports=_u});var pt=o((gg,ft)=>{function mu(e,r){return e==null?void 0:e[r]}ft.exports=mu});var I=o((vg,dt)=>{var qu=lt(),bu=pt();function wu(e,r){var t=bu(e,r);return qu(t)?t:void 0}dt.exports=wu});var gt=o((yg,ht)=>{var xu=I(),Au=function(){try{var e=xu(Object,"defineProperty");return e({},"",{}),e}catch{}}();ht.exports=Au});var _t=o((_g,yt)=>{var vt=gt();function Tu(e,r,t){r=="__proto__"&&vt?vt(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}yt.exports=Tu});var qt=o((mg,mt)=>{function Ou(e){return function(r,t,n){for(var i=-1,s=Object(r),a=n(r),u=a.length;u--;){var l=a[e?u:++i];if(t(s[l],l,s)===!1)break}return r}}mt.exports=Ou});var wt=o((qg,bt)=>{var Su=qt(),Pu=Su();bt.exports=Pu});var At=o((bg,xt)=>{function Eu(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}xt.exports=Eu});var k=o((wg,Tt)=>{function Ru(e){return e!=null&&typeof e=="object"}Tt.exports=Ru});var St=o((xg,Ot)=>{var Cu=F(),Iu=k(),Mu="[object Arguments]";function ju(e){return Iu(e)&&Cu(e)==Mu}Ot.exports=ju});var Le=o((Ag,Rt)=>{var Pt=St(),Du=k(),Et=Object.prototype,Nu=Et.hasOwnProperty,Uu=Et.propertyIsEnumerable,Lu=Pt(function(){return arguments}())?Pt:function(e){return Du(e)&&Nu.call(e,"callee")&&!Uu.call(e,"callee")};Rt.exports=Lu});var P=o((Tg,Ct)=>{var Bu=Array.isArray;Ct.exports=Bu});var Mt=o((Og,It)=>{function Gu(){return!1}It.exports=Gu});var Be=o((ee,$)=>{var Fu=O(),ku=Mt(),jt=typeof ee=="object"&&ee&&!ee.nodeType&&ee,Dt=jt&&typeof $=="object"&&$&&!$.nodeType&&$,$u=Dt&&Dt.exports===jt,Nt=$u?Fu.Buffer:void 0,Ku=Nt?Nt.isBuffer:void 0,zu=Ku||ku;$.exports=zu});var Ge=o((Sg,Ut)=>{var Ju=9007199254740991,Hu=/^(?:0|[1-9]\d*)$/;function Vu(e,r){var t=typeof e;return r=r??Ju,!!r&&(t=="number"||t!="symbol"&&Hu.test(e))&&e>-1&&e%1==0&&e<r}Ut.exports=Vu});var qe=o((Pg,Lt)=>{var Xu=9007199254740991;function Yu(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Xu}Lt.exports=Yu});var Gt=o((Eg,Bt)=>{var Wu=F(),Qu=qe(),Zu=k(),ec="[object Arguments]",rc="[object Array]",tc="[object Boolean]",nc="[object Date]",ic="[object Error]",sc="[object Function]",oc="[object Map]",ac="[object Number]",uc="[object Object]",cc="[object RegExp]",lc="[object Set]",fc="[object String]",pc="[object WeakMap]",dc="[object ArrayBuffer]",hc="[object DataView]",gc="[object Float32Array]",vc="[object Float64Array]",yc="[object Int8Array]",_c="[object Int16Array]",mc="[object Int32Array]",qc="[object Uint8Array]",bc="[object Uint8ClampedArray]",wc="[object Uint16Array]",xc="[object Uint32Array]",g={};g[gc]=g[vc]=g[yc]=g[_c]=g[mc]=g[qc]=g[bc]=g[wc]=g[xc]=!0;g[ec]=g[rc]=g[dc]=g[tc]=g[hc]=g[nc]=g[ic]=g[sc]=g[oc]=g[ac]=g[uc]=g[cc]=g[lc]=g[fc]=g[pc]=!1;function Ac(e){return Zu(e)&&Qu(e.length)&&!!g[Wu(e)]}Bt.exports=Ac});var kt=o((Rg,Ft)=>{function Tc(e){return function(r){return e(r)}}Ft.exports=Tc});var Kt=o((te,K)=>{var Oc=je(),$t=typeof te=="object"&&te&&!te.nodeType&&te,re=$t&&typeof K=="object"&&K&&!K.nodeType&&K,Sc=re&&re.exports===$t,Fe=Sc&&Oc.process,Pc=function(){try{var e=re&&re.require&&re.require("util").types;return e||Fe&&Fe.binding&&Fe.binding("util")}catch{}}();K.exports=Pc});var ke=o((Cg,Ht)=>{var Ec=Gt(),Rc=kt(),zt=Kt(),Jt=zt&&zt.isTypedArray,Cc=Jt?Rc(Jt):Ec;Ht.exports=Cc});var Xt=o((Ig,Vt)=>{var Ic=At(),Mc=Le(),jc=P(),Dc=Be(),Nc=Ge(),Uc=ke(),Lc=Object.prototype,Bc=Lc.hasOwnProperty;function Gc(e,r){var t=jc(e),n=!t&&Mc(e),i=!t&&!n&&Dc(e),s=!t&&!n&&!i&&Uc(e),a=t||n||i||s,u=a?Ic(e.length,String):[],l=u.length;for(var c in e)(r||Bc.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Nc(c,l)))&&u.push(c);return u}Vt.exports=Gc});var Wt=o((Mg,Yt)=>{var Fc=Object.prototype;function kc(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Fc;return e===t}Yt.exports=kc});var Zt=o((jg,Qt)=>{function $c(e,r){return function(t){return e(r(t))}}Qt.exports=$c});var rn=o((Dg,en)=>{var Kc=Zt(),zc=Kc(Object.keys,Object);en.exports=zc});var nn=o((Ng,tn)=>{var Jc=Wt(),Hc=rn(),Vc=Object.prototype,Xc=Vc.hasOwnProperty;function Yc(e){if(!Jc(e))return Hc(e);var r=[];for(var t in Object(e))Xc.call(e,t)&&t!="constructor"&&r.push(t);return r}tn.exports=Yc});var on=o((Ug,sn)=>{var Wc=De(),Qc=qe();function Zc(e){return e!=null&&Qc(e.length)&&!Wc(e)}sn.exports=Zc});var be=o((Lg,an)=>{var el=Xt(),rl=nn(),tl=on();function nl(e){return tl(e)?el(e):rl(e)}an.exports=nl});var cn=o((Bg,un)=>{var il=wt(),sl=be();function ol(e,r){return e&&il(e,r,sl)}un.exports=ol});var fn=o((Gg,ln)=>{function al(){this.__data__=[],this.size=0}ln.exports=al});var $e=o((Fg,pn)=>{function ul(e,r){return e===r||e!==e&&r!==r}pn.exports=ul});var ne=o((kg,dn)=>{var cl=$e();function ll(e,r){for(var t=e.length;t--;)if(cl(e[t][0],r))return t;return-1}dn.exports=ll});var gn=o(($g,hn)=>{var fl=ne(),pl=Array.prototype,dl=pl.splice;function hl(e){var r=this.__data__,t=fl(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():dl.call(r,t,1),--this.size,!0}hn.exports=hl});var yn=o((Kg,vn)=>{var gl=ne();function vl(e){var r=this.__data__,t=gl(r,e);return t<0?void 0:r[t][1]}vn.exports=vl});var mn=o((zg,_n)=>{var yl=ne();function _l(e){return yl(this.__data__,e)>-1}_n.exports=_l});var bn=o((Jg,qn)=>{var ml=ne();function ql(e,r){var t=this.__data__,n=ml(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}qn.exports=ql});var ie=o((Hg,wn)=>{var bl=fn(),wl=gn(),xl=yn(),Al=mn(),Tl=bn();function z(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}z.prototype.clear=bl;z.prototype.delete=wl;z.prototype.get=xl;z.prototype.has=Al;z.prototype.set=Tl;wn.exports=z});var An=o((Vg,xn)=>{var Ol=ie();function Sl(){this.__data__=new Ol,this.size=0}xn.exports=Sl});var On=o((Xg,Tn)=>{function Pl(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}Tn.exports=Pl});var Pn=o((Yg,Sn)=>{function El(e){return this.__data__.get(e)}Sn.exports=El});var Rn=o((Wg,En)=>{function Rl(e){return this.__data__.has(e)}En.exports=Rl});var we=o((Qg,Cn)=>{var Cl=I(),Il=O(),Ml=Cl(Il,"Map");Cn.exports=Ml});var se=o((Zg,In)=>{var jl=I(),Dl=jl(Object,"create");In.exports=Dl});var Dn=o((ev,jn)=>{var Mn=se();function Nl(){this.__data__=Mn?Mn(null):{},this.size=0}jn.exports=Nl});var Un=o((rv,Nn)=>{function Ul(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}Nn.exports=Ul});var Bn=o((tv,Ln)=>{var Ll=se(),Bl="__lodash_hash_undefined__",Gl=Object.prototype,Fl=Gl.hasOwnProperty;function kl(e){var r=this.__data__;if(Ll){var t=r[e];return t===Bl?void 0:t}return Fl.call(r,e)?r[e]:void 0}Ln.exports=kl});var Fn=o((nv,Gn)=>{var $l=se(),Kl=Object.prototype,zl=Kl.hasOwnProperty;function Jl(e){var r=this.__data__;return $l?r[e]!==void 0:zl.call(r,e)}Gn.exports=Jl});var $n=o((iv,kn)=>{var Hl=se(),Vl="__lodash_hash_undefined__";function Xl(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Hl&&r===void 0?Vl:r,this}kn.exports=Xl});var zn=o((sv,Kn)=>{var Yl=Dn(),Wl=Un(),Ql=Bn(),Zl=Fn(),ef=$n();function J(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}J.prototype.clear=Yl;J.prototype.delete=Wl;J.prototype.get=Ql;J.prototype.has=Zl;J.prototype.set=ef;Kn.exports=J});var Vn=o((ov,Hn)=>{var Jn=zn(),rf=ie(),tf=we();function nf(){this.size=0,this.__data__={hash:new Jn,map:new(tf||rf),string:new Jn}}Hn.exports=nf});var Yn=o((av,Xn)=>{function sf(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}Xn.exports=sf});var oe=o((uv,Wn)=>{var of=Yn();function af(e,r){var t=e.__data__;return of(r)?t[typeof r=="string"?"string":"hash"]:t.map}Wn.exports=af});var Zn=o((cv,Qn)=>{var uf=oe();function cf(e){var r=uf(this,e).delete(e);return this.size-=r?1:0,r}Qn.exports=cf});var ri=o((lv,ei)=>{var lf=oe();function ff(e){return lf(this,e).get(e)}ei.exports=ff});var ni=o((fv,ti)=>{var pf=oe();function df(e){return pf(this,e).has(e)}ti.exports=df});var si=o((pv,ii)=>{var hf=oe();function gf(e,r){var t=hf(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}ii.exports=gf});var xe=o((dv,oi)=>{var vf=Vn(),yf=Zn(),_f=ri(),mf=ni(),qf=si();function H(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}H.prototype.clear=vf;H.prototype.delete=yf;H.prototype.get=_f;H.prototype.has=mf;H.prototype.set=qf;oi.exports=H});var ui=o((hv,ai)=>{var bf=ie(),wf=we(),xf=xe(),Af=200;function Tf(e,r){var t=this.__data__;if(t instanceof bf){var n=t.__data__;if(!wf||n.length<Af-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new xf(n)}return t.set(e,r),this.size=t.size,this}ai.exports=Tf});var Ke=o((gv,ci)=>{var Of=ie(),Sf=An(),Pf=On(),Ef=Pn(),Rf=Rn(),Cf=ui();function V(e){var r=this.__data__=new Of(e);this.size=r.size}V.prototype.clear=Sf;V.prototype.delete=Pf;V.prototype.get=Ef;V.prototype.has=Rf;V.prototype.set=Cf;ci.exports=V});var fi=o((vv,li)=>{var If="__lodash_hash_undefined__";function Mf(e){return this.__data__.set(e,If),this}li.exports=Mf});var di=o((yv,pi)=>{function jf(e){return this.__data__.has(e)}pi.exports=jf});var gi=o((_v,hi)=>{var Df=xe(),Nf=fi(),Uf=di();function Ae(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Df;++r<t;)this.add(e[r])}Ae.prototype.add=Ae.prototype.push=Nf;Ae.prototype.has=Uf;hi.exports=Ae});var yi=o((mv,vi)=>{function Lf(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}vi.exports=Lf});var mi=o((qv,_i)=>{function Bf(e,r){return e.has(r)}_i.exports=Bf});var ze=o((bv,qi)=>{var Gf=gi(),Ff=yi(),kf=mi(),$f=1,Kf=2;function zf(e,r,t,n,i,s){var a=t&$f,u=e.length,l=r.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(e),p=s.get(r);if(c&&p)return c==r&&p==e;var d=-1,h=!0,y=t&Kf?new Gf:void 0;for(s.set(e,r),s.set(r,e);++d<u;){var v=e[d],x=r[d];if(n)var E=a?n(x,v,d,r,e,s):n(v,x,d,e,r,s);if(E!==void 0){if(E)continue;h=!1;break}if(y){if(!Ff(r,function(M,j){if(!kf(y,j)&&(v===M||i(v,M,t,n,s)))return y.push(j)})){h=!1;break}}else if(!(v===x||i(v,x,t,n,s))){h=!1;break}}return s.delete(e),s.delete(r),h}qi.exports=zf});var wi=o((wv,bi)=>{var Jf=O(),Hf=Jf.Uint8Array;bi.exports=Hf});var Ai=o((xv,xi)=>{function Vf(e){var r=-1,t=Array(e.size);return e.forEach(function(n,i){t[++r]=[i,n]}),t}xi.exports=Vf});var Oi=o((Av,Ti)=>{function Xf(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}Ti.exports=Xf});var Ci=o((Tv,Ri)=>{var Si=Q(),Pi=wi(),Yf=$e(),Wf=ze(),Qf=Ai(),Zf=Oi(),ep=1,rp=2,tp="[object Boolean]",np="[object Date]",ip="[object Error]",sp="[object Map]",op="[object Number]",ap="[object RegExp]",up="[object Set]",cp="[object String]",lp="[object Symbol]",fp="[object ArrayBuffer]",pp="[object DataView]",Ei=Si?Si.prototype:void 0,Je=Ei?Ei.valueOf:void 0;function dp(e,r,t,n,i,s,a){switch(t){case pp:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case fp:return!(e.byteLength!=r.byteLength||!s(new Pi(e),new Pi(r)));case tp:case np:case op:return Yf(+e,+r);case ip:return e.name==r.name&&e.message==r.message;case ap:case cp:return e==r+"";case sp:var u=Qf;case up:var l=n&ep;if(u||(u=Zf),e.size!=r.size&&!l)return!1;var c=a.get(e);if(c)return c==r;n|=rp,a.set(e,r);var p=Wf(u(e),u(r),n,i,s,a);return a.delete(e),p;case lp:if(Je)return Je.call(e)==Je.call(r)}return!1}Ri.exports=dp});var Mi=o((Ov,Ii)=>{function hp(e,r){for(var t=-1,n=r.length,i=e.length;++t<n;)e[i+t]=r[t];return e}Ii.exports=hp});var Di=o((Sv,ji)=>{var gp=Mi(),vp=P();function yp(e,r,t){var n=r(e);return vp(e)?n:gp(n,t(e))}ji.exports=yp});var Ui=o((Pv,Ni)=>{function _p(e,r){for(var t=-1,n=e==null?0:e.length,i=0,s=[];++t<n;){var a=e[t];r(a,t,e)&&(s[i++]=a)}return s}Ni.exports=_p});var Bi=o((Ev,Li)=>{function mp(){return[]}Li.exports=mp});var ki=o((Rv,Fi)=>{var qp=Ui(),bp=Bi(),wp=Object.prototype,xp=wp.propertyIsEnumerable,Gi=Object.getOwnPropertySymbols,Ap=Gi?function(e){return e==null?[]:(e=Object(e),qp(Gi(e),function(r){return xp.call(e,r)}))}:bp;Fi.exports=Ap});var Ki=o((Cv,$i)=>{var Tp=Di(),Op=ki(),Sp=be();function Pp(e){return Tp(e,Sp,Op)}$i.exports=Pp});var Hi=o((Iv,Ji)=>{var zi=Ki(),Ep=1,Rp=Object.prototype,Cp=Rp.hasOwnProperty;function Ip(e,r,t,n,i,s){var a=t&Ep,u=zi(e),l=u.length,c=zi(r),p=c.length;if(l!=p&&!a)return!1;for(var d=l;d--;){var h=u[d];if(!(a?h in r:Cp.call(r,h)))return!1}var y=s.get(e),v=s.get(r);if(y&&v)return y==r&&v==e;var x=!0;s.set(e,r),s.set(r,e);for(var E=a;++d<l;){h=u[d];var M=e[h],j=r[h];if(n)var sr=a?n(j,M,h,r,e,s):n(M,j,h,e,r,s);if(!(sr===void 0?M===j||i(M,j,t,n,s):sr)){x=!1;break}E||(E=h=="constructor")}if(x&&!E){var ue=e.constructor,ce=r.constructor;ue!=ce&&"constructor"in e&&"constructor"in r&&!(typeof ue=="function"&&ue instanceof ue&&typeof ce=="function"&&ce instanceof ce)&&(x=!1)}return s.delete(e),s.delete(r),x}Ji.exports=Ip});var Xi=o((Mv,Vi)=>{var Mp=I(),jp=O(),Dp=Mp(jp,"DataView");Vi.exports=Dp});var Wi=o((jv,Yi)=>{var Np=I(),Up=O(),Lp=Np(Up,"Promise");Yi.exports=Lp});var Zi=o((Dv,Qi)=>{var Bp=I(),Gp=O(),Fp=Bp(Gp,"Set");Qi.exports=Fp});var rs=o((Nv,es)=>{var kp=I(),$p=O(),Kp=kp($p,"WeakMap");es.exports=Kp});var cs=o((Uv,us)=>{var He=Xi(),Ve=we(),Xe=Wi(),Ye=Zi(),We=rs(),ts=F(),X=Ue(),ns="[object Map]",zp="[object Object]",is="[object Promise]",ss="[object Set]",os="[object WeakMap]",as="[object DataView]",Jp=X(He),Hp=X(Ve),Vp=X(Xe),Xp=X(Ye),Yp=X(We),N=ts;(He&&N(new He(new ArrayBuffer(1)))!=as||Ve&&N(new Ve)!=ns||Xe&&N(Xe.resolve())!=is||Ye&&N(new Ye)!=ss||We&&N(new We)!=os)&&(N=function(e){var r=ts(e),t=r==zp?e.constructor:void 0,n=t?X(t):"";if(n)switch(n){case Jp:return as;case Hp:return ns;case Vp:return is;case Xp:return ss;case Yp:return os}return r});us.exports=N});var ys=o((Lv,vs)=>{var Qe=Ke(),Wp=ze(),Qp=Ci(),Zp=Hi(),ls=cs(),fs=P(),ps=Be(),ed=ke(),rd=1,ds="[object Arguments]",hs="[object Array]",Te="[object Object]",td=Object.prototype,gs=td.hasOwnProperty;function nd(e,r,t,n,i,s){var a=fs(e),u=fs(r),l=a?hs:ls(e),c=u?hs:ls(r);l=l==ds?Te:l,c=c==ds?Te:c;var p=l==Te,d=c==Te,h=l==c;if(h&&ps(e)){if(!ps(r))return!1;a=!0,p=!1}if(h&&!p)return s||(s=new Qe),a||ed(e)?Wp(e,r,t,n,i,s):Qp(e,r,l,t,n,i,s);if(!(t&rd)){var y=p&&gs.call(e,"__wrapped__"),v=d&&gs.call(r,"__wrapped__");if(y||v){var x=y?e.value():e,E=v?r.value():r;return s||(s=new Qe),i(x,E,t,n,s)}}return h?(s||(s=new Qe),Zp(e,r,t,n,i,s)):!1}vs.exports=nd});var Ze=o((Bv,qs)=>{var id=ys(),_s=k();function ms(e,r,t,n,i){return e===r?!0:e==null||r==null||!_s(e)&&!_s(r)?e!==e&&r!==r:id(e,r,t,n,ms,i)}qs.exports=ms});var ws=o((Gv,bs)=>{var sd=Ke(),od=Ze(),ad=1,ud=2;function cd(e,r,t,n){var i=t.length,s=i,a=!n;if(e==null)return!s;for(e=Object(e);i--;){var u=t[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){u=t[i];var l=u[0],c=e[l],p=u[1];if(a&&u[2]){if(c===void 0&&!(l in e))return!1}else{var d=new sd;if(n)var h=n(c,p,l,e,r,d);if(!(h===void 0?od(p,c,ad|ud,n,d):h))return!1}}return!0}bs.exports=cd});var er=o((Fv,xs)=>{var ld=me();function fd(e){return e===e&&!ld(e)}xs.exports=fd});var Ts=o((kv,As)=>{var pd=er(),dd=be();function hd(e){for(var r=dd(e),t=r.length;t--;){var n=r[t],i=e[n];r[t]=[n,i,pd(i)]}return r}As.exports=hd});var rr=o(($v,Os)=>{function gd(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}Os.exports=gd});var Ps=o((Kv,Ss)=>{var vd=ws(),yd=Ts(),_d=rr();function md(e){var r=yd(e);return r.length==1&&r[0][2]?_d(r[0][0],r[0][1]):function(t){return t===e||vd(t,e,r)}}Ss.exports=md});var Oe=o((zv,Es)=>{var qd=F(),bd=k(),wd="[object Symbol]";function xd(e){return typeof e=="symbol"||bd(e)&&qd(e)==wd}Es.exports=xd});var Se=o((Jv,Rs)=>{var Ad=P(),Td=Oe(),Od=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sd=/^\w*$/;function Pd(e,r){if(Ad(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Td(e)?!0:Sd.test(e)||!Od.test(e)||r!=null&&e in Object(r)}Rs.exports=Pd});var Ms=o((Hv,Is)=>{var Cs=xe(),Ed="Expected a function";function tr(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Ed);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],s=t.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return t.cache=s.set(i,a)||s,a};return t.cache=new(tr.Cache||Cs),t}tr.Cache=Cs;Is.exports=tr});var Ds=o((Vv,js)=>{var Rd=Ms(),Cd=500;function Id(e){var r=Rd(e,function(n){return t.size===Cd&&t.clear(),n}),t=r.cache;return r}js.exports=Id});var Us=o((Xv,Ns)=>{var Md=Ds(),jd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dd=/\\(\\)?/g,Nd=Md(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(jd,function(t,n,i,s){r.push(i?s.replace(Dd,"$1"):n||t)}),r});Ns.exports=Nd});var Bs=o((Yv,Ls)=>{function Ud(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}Ls.exports=Ud});var zs=o((Wv,Ks)=>{var Gs=Q(),Ld=Bs(),Bd=P(),Gd=Oe(),Fd=1/0,Fs=Gs?Gs.prototype:void 0,ks=Fs?Fs.toString:void 0;function $s(e){if(typeof e=="string")return e;if(Bd(e))return Ld(e,$s)+"";if(Gd(e))return ks?ks.call(e):"";var r=e+"";return r=="0"&&1/e==-Fd?"-0":r}Ks.exports=$s});var Hs=o((Qv,Js)=>{var kd=zs();function $d(e){return e==null?"":kd(e)}Js.exports=$d});var nr=o((Zv,Vs)=>{var Kd=P(),zd=Se(),Jd=Us(),Hd=Hs();function Vd(e,r){return Kd(e)?e:zd(e,r)?[e]:Jd(Hd(e))}Vs.exports=Vd});var ae=o((ey,Xs)=>{var Xd=Oe(),Yd=1/0;function Wd(e){if(typeof e=="string"||Xd(e))return e;var r=e+"";return r=="0"&&1/e==-Yd?"-0":r}Xs.exports=Wd});var ir=o((ry,Ys)=>{var Qd=nr(),Zd=ae();function eh(e,r){r=Qd(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[Zd(r[t++])];return t&&t==n?e:void 0}Ys.exports=eh});var Qs=o((ty,Ws)=>{var rh=ir();function th(e,r,t){var n=e==null?void 0:rh(e,r);return n===void 0?t:n}Ws.exports=th});var eo=o((ny,Zs)=>{function nh(e,r){return e!=null&&r in Object(e)}Zs.exports=nh});var to=o((iy,ro)=>{var ih=nr(),sh=Le(),oh=P(),ah=Ge(),uh=qe(),ch=ae();function lh(e,r,t){r=ih(r,e);for(var n=-1,i=r.length,s=!1;++n<i;){var a=ch(r[n]);if(!(s=e!=null&&t(e,a)))break;e=e[a]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&uh(i)&&ah(a,i)&&(oh(e)||sh(e)))}ro.exports=lh});var io=o((sy,no)=>{var fh=eo(),ph=to();function dh(e,r){return e!=null&&ph(e,r,fh)}no.exports=dh});var oo=o((oy,so)=>{var hh=Ze(),gh=Qs(),vh=io(),yh=Se(),_h=er(),mh=rr(),qh=ae(),bh=1,wh=2;function xh(e,r){return yh(e)&&_h(r)?mh(qh(e),r):function(t){var n=gh(t,e);return n===void 0&&n===r?vh(t,e):hh(r,n,bh|wh)}}so.exports=xh});var uo=o((ay,ao)=>{function Ah(e){return e}ao.exports=Ah});var lo=o((uy,co)=>{function Th(e){return function(r){return r==null?void 0:r[e]}}co.exports=Th});var po=o((cy,fo)=>{var Oh=ir();function Sh(e){return function(r){return Oh(r,e)}}fo.exports=Sh});var go=o((ly,ho)=>{var Ph=lo(),Eh=po(),Rh=Se(),Ch=ae();function Ih(e){return Rh(e)?Ph(Ch(e)):Eh(e)}ho.exports=Ih});var yo=o((fy,vo)=>{var Mh=Ps(),jh=oo(),Dh=uo(),Nh=P(),Uh=go();function Lh(e){return typeof e=="function"?e:e==null?Dh:typeof e=="object"?Nh(e)?jh(e[0],e[1]):Mh(e):Uh(e)}vo.exports=Lh});var mo=o((py,_o)=>{var Bh=_t(),Gh=cn(),Fh=yo();function kh(e,r){var t={};return r=Fh(r,3),Gh(e,function(n,i,s){Bh(t,i,r(n,i,s))}),t}_o.exports=kh});var w=fe(ve());var qo=fe(ve()),Pe=fe(require("fs")),bo=fe(mo());async function wo({terraformRoot:e,secrets:r}){let t,n,i,s,a="SHARED",u={},l=`${e}/tf-pr-action.config.json`;if(Pe.existsSync(l)){let c=Pe.readFileSync(l,"utf-8"),p=JSON.parse(c);p.workloadIdentityProjectId&&(t=p.workloadIdentityProjectId),p.workloadIdentityProjectNumber&&(n=p.workloadIdentityProjectNumber),p.serviceAccountSecret&&(i=p.serviceAccountSecret,s=r[p.serviceAccountSecret]),p.environment&&(a=p.environment),p.tfVarToSecretMap&&(u=(0,bo.default)(p.tfVarToSecretMap,h=>r[h]))}else qo.info("No ts-pr-action.config.json found. If this module needs to run as a specific SA, add a ts-pr-action.config.json.");return{saSecret:i,saSecretKey:s,environment:a,tfVars:u,workloadIdentityProjectId:t,workloadIdentityProjectNumber:n}}async function $h(){try{let e=w.getInput("cwd"),r=JSON.parse(w.getInput("secrets_json")||"{}"),{tfVars:t,environment:n,workloadIdentityProjectId:i,workloadIdentityProjectNumber:s,saSecret:a,saSecretKey:u}=await wo({terraformRoot:e,secrets:r});Object.keys(t).length>0&&w.setOutput("tf_vars",JSON.stringify(t)),n&&w.setOutput("environment",n),a&&w.setOutput("sa_secret",a),u&&w.setOutput("sa_secret_key",u),i&&w.setOutput("workload_identity_project_id",i),s&&w.setOutput("workload_identity_project_number",s)}catch(e){w.setFailed(e)}}$h();
